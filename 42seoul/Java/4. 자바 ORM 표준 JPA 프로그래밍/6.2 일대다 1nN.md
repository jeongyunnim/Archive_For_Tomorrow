---
날짜: 2024-12-14
넘버: 
태그: 프로그래밍
저자: 김영한
출처: https://www.inflearn.com/course/ORM-JPA-Basic/dashboard
aliases:
---
### 날짜:  2024-12-14 18:22

### 태그: #프로그래밍 #자바 #스프링

>[!메모]
>

### 원문
---
# 6.2 일대다 1:N
## 일대다 단방향
- 표준스펙에서 제공은 하고 있으나, 실무에서 해당 모델은 거의 사용하지 않는다.
### 특징
- 1이 연관관계의 주인이 된다.
- DB 테이블의 경우에는 모두 다수 쪽이 FK를 갖고 있음
	- PK가 중복 될 수 없기 때문에 다수 쪽을 PK로 둘 수 없음.
- 객체와 테이블의 패러다임 차이로 반대편 테이블의 FK를 관리하는 특이한 구조이다.
	- **N쪽에서 1을 조회할 일이 없다는 객체지향적 관점에 1:N 방향만 만든 경우**
- `@JoinColumn`을 꼭 사용해주어야 한다.
	- 그렇지 않으면 Join Table 방식을 사용한다.
	- 두 테이블을 연결하는 중간 테이블을 만든다.
### 단점 정리
- 엔티티가 관리하는 FK가 다른 테이블에 있다.
- 연관관계 관리를 위해 추가로 UPDATE 쿼리가 실행된다.
	- Team에 Member를 추가했을 때, Member 테이블에 update가 발생한다.
### 결론
- **다대일 양방향을 사용하자.**
	- N이 1을 참조할 일이 없다고 하더라도, 감수할만한 트레이드 오프.
## 일대다 양방향
- 억지스러운 방식으로 가능하다.
- 1과 N 모두 연관관계의 주인으로 설정한다.
	- N에서는 insertable과 updatable을 false로 설정하여 읽기 전용으로 만든다.
### 결론
- **다대일 양방향을 사용하자.**
---
### 생각(파생된 질문/생각)

### 출처
- [자바 ORM 표준 JPA 프로그래밍 - 기본편](https://www.inflearn.com/course/ORM-JPA-Basic/dashboard)

### 연결 문서 (연결 이유)
