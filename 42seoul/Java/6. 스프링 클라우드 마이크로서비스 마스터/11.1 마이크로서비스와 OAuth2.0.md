---
날짜: 2024-08-14
넘버: 
태그: 프로그래밍
저자: Eazy Bytes
출처: https://www.udemy.com/course/master-microservices-with-springboot-docker-kubernetes-korean/
aliases:
---
### 날짜:  2024-08-14 00:57

### 태그: #프로그래밍 #자바 #스프링

>[!메모]
>

### 원문
---
# 마이크로서비스와 OAuth2.0
## OAuth2.0으로 해결되는 문제
- OAuth2.0 이전에는 기본 인증을 통해서 접근했다.
### 기본 인증
- 사용자(end user)는 HTML form 을 입력하여 자격 증명을 요청했다.
- 서버로 전송된 내용으로 인증이 완료되면 백엔드 서버는 세션 값을 생성하고 브라우저의 쿠키에 동일한 값을 저장한다.
#### 기본인증의 단점
- 세션이 활성화되어 있는 동안사용자는 보호된 리소스와 URL에 접근할 수 있다.
	- 문제는 백엔드 서버에 **비즈니스 로직과 인증로직이 긴밀하게 연결**되어 있다는 것이다.
- 모바일 친화적이거나 REST API 친화적이지 않다.
- 타사 클라이언트에게 사용자 정보에 대한 임시 접근 권한을 부여할 수 있는 방법이 없다.
	- 타사 클라이언트에 자신의 자격 증명을 제공해야 한다.
	- 내 자격 증명이 웹 사이트에서 오용되지 않을 것이라는 믿음으로 제공하는 수밖에 없다.
### 보안 관련 사항의 변경/적용을 어떻게 적용할 것인가
- 모든 인증 및 권한 부여 로직을 분리해야 한다.
	- 인증 서버 또는 권한 부여 서버를 분리해야 한다.
	- 마이크로서비스 개수에 상관없이 보안 로직을 한 군데에서 관리할 수 있다.
### 어떻게 해당 서비스에 유저의 ID/PW를 제공하지 않고 인증을 얻는가
- 리소스 서버의 인증에 성공하면 리소스 서버는 이름, 이메일 등을 읽을 수 있도록 제한적인 정보만 제공한다.
- 인증에 성공했을 때 엑세스 토큰을 발급한다.
	- 유효한 기간동안 자동으로 로그인을 시도할 수 있다.
- 서비스는 로그인하려는 유저의 제한된 데이터에 접근할 수 있는 임시 액세스 권한을 제공 받는다.
## OAuth란?
: Open authorization
- IETF 표준을 기반으로 구축된 무료 오픈 소스 프로토콜
- 타사 애플리케이션에 권한을 부여하는 프로세스를 일컫는다.
	- authorization 또는 delegated authorization이라고 불린다.
- 애플리케이션의 유형에 관계없이 **모든 시나리오에서의 권한 부여를 지원**한다.
- 인증 서버 컴포넌트를 분리하여 구축해야 한다.
- 리소스 서버의 데이터를 제공할 때마다 Credential(자격증명)을 공유할 필요가 없다.
### 인증 서버
- 클라이언트로부터 요청을 받고 인증 성공 여부에 따라 엑세스 토큰을 제공한다.
- 타사 웹 애플리케이션에서도 인증 서버에 접근할 수 있다.
	- 이는 인증 서버가 분리되어 있기 때문에 가능하다.
	- 인증과 비즈니스 로직을 단일 서버에 통합하면 서버의 정보나 엔드포인트 같은 세부 정보를 다른 애플리케이션에 제공하지 않는다.

---
### 생각(파생된 질문/생각)

### 출처
- [유데미 - Java, Spring Boot, Spring Cloud, Docker, Kubernetes, Helm, 마이크로서비스 보안](https://www.udemy.com/course/master-microservices-with-springboot-docker-kubernetes-korean/)

### 연결 문서 (연결 이유)
