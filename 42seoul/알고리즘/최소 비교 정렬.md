----
### 최상 최악의 경우
-> 나중의 내가 어떻게든 해내겠지???

- ### 병합 삽입 (ford-johnson)
	
 - 10개의 쌍을 비교하는 것으로 시작하자.
	- K\[20];
	- 여기서 얻은 열 개의 원소 10개를 병합 삽입을 이용해 정렬한다.
		![[Pasted image 20230808195433.png]]
	- b1은 a1보다 작은 것을 알고 있으므로 {b1 a1}를 확정할 수 있다.
	- b3을 {b1 a1 a2} 중 적절한 곳에 삽입한다.
	- b2는 a2보다 작은 나머지 원소들에 삽입한다.
	- 현재 정렬된 모습은 이렇다. *{b1 a1 b2 a2 b3 a3}의 정렬된 요소는 c로 표기*
		![[Pasted image 20230808200746.png]]
	- b5는 주 사슬의 적절한 자리에 세 번의 비교로 삽입할 수 있다.
		- c4와 비교하고, c2/c6과 비교(바이너리 서치)한다. 
	- b4를 주 사슬에 추가적인 세 번의 단계로 삽입한다.
	- 이 다음의 단계는 b7이 아니라 b11이다.
		- 4회의 비교만으로 주 사슬에 삽입할 수 있다. 
	- b10 b9 b8 b7 b6 순서로 최대 4회의 비교를 통해 삽입할 수 있다.
	- 21개의 정렬 결과는  최대 10 + S(10) + 2 + 2 + 3 + 3 + 4 + 4 + 4 + 4 + 4 + 4 = **66회**로 삽입 가능하다. -> 이진 삽입은 **74회**가 필요했을 것.
	- #### 이를 일반화 하면 이렇다.
		1)  n/2 개의 서로 다른 원소 쌍들을 각 쌍별로 비교한다.(홀수라면 하나는 남겨둔다)
		2) 단계 1에서 판정한 더 큰 원소들을 병합 삽입으로 정렬한다.
		3) 정렬된 수열 b\[0], a\[0], a\[1] ... a\[n/2]을 main chain이라고 부른다. 나머지 b 중, `j < [n/2]`에 대한 b\[j]들을 제외한 것들을 이진 삽입법을 이용하여 삽입한다.
			- b3,b2; b5,b4; b11,b10,b9,b8,b7,b6; b22,b21...
			- 최대 k회의 비교로 삽입할 수 있다.
			- 이 과정을 일반화하면 다음과 같은 그림이 나온다.
				![[Pasted image 20230808203825.png]]
		- $a_{t_k-1}$ 까지의 주 사슬은 $2t_{k-1} + (t_k - t_{k-1} -1)$ 개의 원소로 이루어진다. 이 개수는 $2^k$ 보다 작다.
			- 주 사슬 원소 개수를 $2^k - 1$ 로 두어서 $t_{k-1} + t_k = 2^k$ 가 되도록 한다.
[[야콥스탈 수]]
- 왜 야콥스탈 수를 쓰는가?
	- 이전 값보다 1을 더하거나 1을 뺸 값.
	- 이진탐색의 횟수가 늘어나는 경우 역시 전체 원소의 수가 2배가 되는 시점.
	-  $b(k-1) + 1$ ... $b(k)$ 까지 탐색횟수가 동일한 인덱스들 이다.