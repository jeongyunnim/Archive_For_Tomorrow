---
날짜: "2025-02-26"
넘버: 
태그: 프로그래밍/임베디드
출처: LIG Nex1 The SSEN Embedded SW School
강사: 홍영기
aliases:
---
### 날짜:  2025-02-26 17:11

### 태그: #프로그래밍/임베디드

>[!메모]
> 

### 원문
---
# Memory & Bus Architecture

## STM32F4x Processor의 메모리
### Memory organization
- ARM이 지정한 메모리맵을 동일하게 사용한다.
	- CMSIS와 같은 맥락
	- 일종의 강제적인 메모리맵
	- Coretex-M 시리즈만 동일하다.
	- A, R은 자율적으로 
- 2의 32승
	- address line을 32비트로 구성하고 있기 때문에
- 비트 밴드
### 프로세서의 구조
- FMC external MemCtl
	- DRAM 접근 시
- [ ] 외워야 할 것
	- 플래시 메모리 -> 0x08...
	- SRAM -> 0x02
	- 부팅 ->0x00
- [ ] CCM data RAM
	- D-bus와만 연결되어 있다.
- I-bus
	- 코어에서 명령어를 가져오는 데 사용한다.
	- 코드가 포함된 메모리(FLASH / SRAM)
- D-bus
	- 리터럴 로드 및 디버그 액세스를 위해 코어에서 사용된다.
	- 코드 또는 데이터를 포함하는 메모리(FLASH / SRAM) + DRAM?
- S-bus
	- 0xE... 로 시작하는 메모리도 시스템 버스를 사용한다는 것
- PPB-bus
	- 몰라도 상관 없음
	- 디버그용 버스
### Embedded SRAM
- STAM32F429ZI 장치는 192KB, ... SRAM을 갖고 있다.
- 바이트, 하프워드, 워드로 액세스할 수 있다.
- 읽기 및 쓰기 작업은 대기 상태가 0인 CPU 속도로 수행된다.
	- 180MHz로 도는데 램이 느리면 병목현상이 생긴다.
	- **대기 상태가 0이다 -> CPU의 클럭 속도를 충분히 따라간다.**
### FLASH 메모리
- 캐시 라인 시스템
	- 캐시스러운 것이지, 캐시가 아니다.
- 사용자의 데이터용 512 OTP(일회성 프로그래밍 가능) 바이트 제공
	- 원래는 실행 중에 사용이 불가능하다.
	- 차량용 블랙박스 로그데이터 언제 꺼졌고 켜졌고, 저장하려고 할 때.
		- 대용량 캐패시터가 있어서 3초 동안 전원을 유지할 수 있다.
		- 그 동안 플래시에 쓴다.
- 0x00000000는 0x08000000는 미러링을 하고 있다.
	- MSP가 실제 스택 포인터이고, SP는 MSP의 애일리어스인 것 처럼
- 생각하고 가야할 지점.
	- 0번지를 이용해서 접근하는 것을 만들어 놓은 이유가 무엇일까?
	- 인터럽트를 배우면 왜 필요한지 알 수 있다.
- ARM은 0x0번지를 이용해서 부팅을 한다.
	- 벡터테이블: 0번지에 형성해주어야 한다.
- BOOT pin이라는 것이 있다.
	- 세 가지의 부팅 모드를 설정해줄 수 있다.
	- system memory는 숨겨져 있는데, ... 암튼 우리는 default로만 부팅했었다.





---
### 생각(파생된 질문/생각)

### 출처
- LIG Nex1 The SSEN Embedded SW School

### 연결 문서 (연결 이유)
