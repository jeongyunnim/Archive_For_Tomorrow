---
날짜: 2024-12-30
넘버: 
태그: 프로그래밍/임베디드
출처: LIG Nex1 The SSEN Embedded SW School
강사: 문호선
교재: 인공지능 시대의 컴퓨터 개론
aliases:
---
### 날짜:  2024-12-30 09:02

### 태그: #프로그래밍/임베디드

>[!메모]
> 6개월 간 구체적인 목표
> 관심분야 명확히하기 -> 영 아닌 부분을 먼저 발견하는 것.

### 원문
---
# 2.2 컴퓨터 발전과 기반지식
## 복습
![[Excalidraw/LIG Nex1.md#^group=ZDtpBzchp07GMX_4Nsm0z]]
- F/W는 하나의 실행 파일이다.
	- 업그레이드 하거나, 
	- 컴파일, ... , 링킹
- OS는 하드웨어 자원(CPU, MEM, I/O)
	- 하나의 바이너리인 모놀리틱 커널에서 넘어왔다.
	- 마이크로 커널 -> 커널 모듈(커널 오브젝트)들을 필요할 때 올리고 내린다.
- Device Driver
	- 하드웨어에 대한 특징을 잘 파악해야 한다.
		- 하드웨어를 사용(제어)하기 위한 정보를 함께 제공해준다.
		- [[반도체 IP(Intellectual Property)|IP]](지적 재산권, Intellectual Property)
	- OS 체계에 대해서 잘 파악해야 한다.
		- 리눅스, 윈도우, RTOS 등
		- RTOS는 수천 종이 있다. RTOS라고 할 수밖에 없다.
			- 오픈된 커널에서 각 회사의 부품에 맞게 커스텀 하더라..
- process == program in execution
	- RTOS에서는 프로세스보다는 **Task**라고 부른다.
- 소프트웨어 개발
	- OS 위에서 개발하는 것
	- 하드웨어에서 달라지지 않게, OS 위에서 만들어지는 것.
- 포팅(이식)
	- **특정 H/W 플랫폼에서 동작하는 S/W를 다른 H/W에서 동작하도록 하는 작업**
	- 주로 운영체제 또는 D/D를 포팅하게 된다.
	- 소프트웨어는 Migration했다는 표현을 사용한다.
		- 소프트웨어를 포팅했다고 하면 세상 무식함 인증하는 꼴
	- 현재 하드웨어 플랫폼과, 이식할 하드웨어 플랫폼의 동작의 차이를 명확히 알고 있어야 한다.
- RISC
	- 명령어를 줄인다 -> decode를 줄이는 것이다.
	- 4바이트 균일화
- 전력소비
	- 정적, 동적 
	- 노이즈
	- AC alternate current -> 양방향으로 흐르는 것.
	- 전기도 효율을 위해 전압을 높여서 분배, 변전소에서 다시 낮춘다.[[TODO]]
	- window -> Arm
		- 메모리 제어 또는 I/O 제어 등
		- context switching 방식
		- LED -> lamp
		- [[DDL]] -> ...
- 중요하게 보아야 하는 것
	- 운영체제, CPU, 유무선 네트웨크
- Arm: Advanced RISC machine
	- 휴대폰 교체 주기가 늦어지고 있다..
	- Intel이 포기했으니 주변 장치의 파이를 먹자
	- 우분투 제공하는 캐노니칼과 협업해서 뿌렸다.
		- 그걸 지원하기 위한 프레임워크들을 제공할 수가 없어서 실패했다.
- OS(범용 OS)
	- 애플리케이션을 띄우기 위한 프로세서
	- 프로세서A
	- [[MMU]]가 있다 없다로 구분
	- 프로세서는 system call(function call)으로 OS에 요청하여 하드웨어 자원에 접근한다.

> [!tip] 습관을 기르자.
> 흐름을 파악하기 위해 일주일의 한 번 정도는 IT뉴스를 정독 
> 가트너의 10대 기술

### CPU 구성 요소
- register bank, controller unit, [[ALU]]
- CPU의 시작: 전원을 키면 회로적으로 10mm이상의 어쩌고 가장 강력한 **exception** reset이 일어난다.
	- exception이 일어나지 않으면 FDEFDE...(normal한 동작)를 반복한다.
	- 여러 레지스터들이 0으로 초기화 된다.
		- 프로그램 카운터가 0이 되면 다음 클럭에 0번지를 들어간다.
		- 0번지에 있는 것을 fetch하여 실행한다.
### interrupt는 어떻게 일어나는가?
- 현재 작업을 완료하고 exception에 해당하는 핸들러에 갈 수 있도록 호출해야 한다.
	- 특정 주소에 핸들러를 구현해야 한다.
- 다양한 exception이 있다.

## 컴퓨터의 발전과 기반 지식
![[Excalidraw/LIG Nex1.md#^group=28BJI6X--yR5yZ6dOWdA8]]
- 아날로그가 훨씬 효율적이다. 그대로 처리를 할 수 없을뿐..
### 수의 표현과 연산
- 가수부와 지수부로 나눈다.
```
1234
-> 1 * 10^3 + 2 * 10^2 + 3 * 10^1 + 4 * 10^0
```
- 변환하려는 진법으로 나눈다.
	- [[LSB(Least Significant Bit)]]
> [!tip] 임베디드를 한다. 
> 2진수의 weight 값을 64k까지는 외워두자
> 1 2 4 8 16 32 64 128 256 512 1024 2048 4096 8192 16384 32768 65536
> 비트를 네 자리 수 씩 외워두어라
> 15 | 240 | 3840 | 61440

- 레지스터는 비트 단위로 저장한다.
	- `|` 는 set만 시킬 수 있다.
	- 0과 1이 혼재한 경우 `|` 또는 `&` 로만 처리할 수 없다.
	- 일반적으로 비트셋에서 0으로 초기화 시킨 뒤 필요한 비트를 켠다.
	- Arm 코드를 읽을 때? 작성할 때 많이 헤매는 이유 -> 비트연산을 재빨리 할 수 없기 때문이다.

```c
// a 변수의 4,5 비트를 11로 설정
a |= (0b11 << 4);
// a |= (0x30);
// a |= (0x3 << 4);

// a 변수의 987 비트를 101로 설정
a &= ~(0x7 << 7);
a |= (0x5 << 7);
// 실무에서는 한 줄로 표현
a = (a & ~(0x7 << 7)) | (0x5 << 7);
```

## 수의 표현과 연산
### 보수(complement)
- 모든 n진법에 n진법과 (n-1)진법이 있다.
### 1의 보수
- 뺄셈을 표현하기 위해 보수를 사용한다.
	- 보수의 덧셈
- ALU
	- 입력에 따른 출력, 진리표, truth table을 만들 수 있다면 회로로 표현할 수 있다.
	- Sum of product 형태로 만들 수 있다.
	- 조합회로.
- 전자투표기
	- [[TODO]]
	- 회로도는 2가지로 구현할 수 있다.
### 음수의 표현 방법
- signed magnatied
	- 부호를 바꿔주는 방법
- 1's complement
	- 소수를 표현할 때 사용
	- carry가 생길 때 더해주는 별도의 연산이 필요하다.
- **2's complement**
	- 정수를 표현할 때 사용
	- -1 == 0xFFFF...
## 데이터의 표현
### 비트, 바이트, 워드
- 비트: bit == **bi**nary digi**t**
- 바이트: byte == 영문 1글자를 표현하기 위한 8비트
- 워드: word, 컴퓨터의 2, 4, 8 바이트 등이 있다. 통상 32bit(4byte)으로 처리된다.
	- 하드웨어마다 자료형 크기가 다를 수 있다. integer, word 등
	- integer 또한 data bus width에 맞춰진다.
	- long은 시스템 영향 없이 4바이트, short 어디서든 2바이트
- 32bit CPU란?
	- **data bus width**: 한 번에 읽을 수 있는 데이터가 32bit 이다.
	- 한 번에 처리할 수 있는 데이터
	- ALU가 그 만큼의 크기에 맞춰진다.
	- 명령어의 크기도 32비트에 맞춘다.
	- 주소값, PC, Register 등등 모두 32비트 주소로 맞춰진다.
- 32bit -> 2^32 -> 4GB(`2^10 * 2^10 * 2^10 + 2^2`)
- 함수의 리턴 -> 레지스터
	- Arm -> r0 (CISC는 AX)
	- 레지스터는 4바이트 단위로 거래
	- unsigned char로 반환할래. 어셈블리어를 보면 자료형을 변환? 하게 된다. CLK을 낭비하게 될 수 있다.[[TODO]]
	- integer로 반환하면 변환없이 그냥 거래할 수 있다.
- 기능만 구현하면 안 된다.
	- 잘 알고 써야 한다.
	- char은 임베디드에서 unsigned가 기본
	- 형변환, 포인터, 비트 등
### 바이트, 메가, 기가, 테라, 페타
```
1KB: 1,024(2^10) byte
...
```

### 언어를 배운다는 것.
![[Excalidraw/LIG Nex1.md#^group=tW1CQQOt]]
- 약속: 자료형에 따라 어떻게 저장하고 어떻게 읽어라라는 것.
- 약속에 따라 저장하고 읽는다. == 복원한다. == 해석한다.
- C언어 -> OS와의 관계[[TODO]]
- [[MMU]]
- 임베디드에서는 코드 한 줄 한 줄의 의미를 정확히 알고 있어야 한다.
### 고정 소수점 데이터 형식
- 정수를 표현하는 데 사용
- **MSB**: 부호 비트(양수:0, 음수:1)
	- Most Significant Bit <-> LSB(Least Significant Bit)
	- signed magnitude
- 사용 되지 않는다.
### 부동 소수점 데이터 형식
https://www.notion.so/32-eb070048f15d4bc1b7283d521f3bbcea?pvs=4
![[Pasted image 20241230123536.png]]
- `3.75` => `11.11`
- $1.111 * 2^1$
- 1010.11 -> $1.01011 * 2^3$
- float 연산은 오래 걸린다. [[TODO]]
	- 수치연산 [[코프로세서]]
	- [[FPU]]를 CPU 바깥에 두고 연산을 도와준다.
	- integer 연산에 비해 20배 느리다.
	- 나눗셈 -> integer 연산에 비해 40배 느리다.
	- 남이 짠 코드를 **100%** 이해할 수 있어야 한다.
- 24bit -> 16MB
	- 소수점 이하 5~6 유효자리
	- 한계점을 알고 사용해야 한다.
### ASCII
- American Standard Code for information Interchange
- 인쇄와 통신, 제어 문자
### encoder, decoder
- **code: 약속**
- encode: 코드를 만든다.
- decode: 코드를 해독한다.
- en**cod**er + **dec**oder = codec 칩
- 어떤 이유로 header를 parsing해서 사용해야할 때가 있다.
	- 모두 약속을 위한 것이다.
### 소프트웨어와 하드웨어의 관계
- 소프트웨어
	- 범용적인 하드웨어를 내가 정해진 순서로 제어해서 원하는 결과를 얻는 것.
- 전용 하드웨어를 가지고 일부 구현할 수 있다.
	- 먼저 고성능 프로세서를 사용하여 소프트웨어를 구현한다.
	- 구현된 소프트웨어가 잘 나가면, 전용 하드웨어를 구축한다.

## 논리 회로
- 전자와 양성자.
	- 4가의 소자.. 실리콘... 모래로 만든
	- 도핑이라는 불순물, 전자를 1개 늘리면 음극을 띤다(P형). 전자를 1개 빼면 양극을 띤다(N형).
	- [[트랜지스터의 동작]]
	- [[CMOS]]?
- Ground와 [[VCC]] 가 연결되면 합선이 되어 불이 난다.
	- 왜? [[TODO]]
- [[MUX]]: 여러 개 중 하나를 선택하는 것
- [[DEMUX]]: 하나를 여러 개 중 하나로 보내는 것.
- Combinational Logic: 조합에 의해 출력이 나오는 것.
	- ALU, decoder 등
	- C.U(Control Unit)에 있는 모든 애들은 이렇게 만들어진다.


---
### 생각(파생된 질문/생각)

### 출처
- LIG Nex1 The SSEN Embedded SW School

### 연결 문서 (연결 이유)
