---
날짜: '"2024-02-12"'
넘버: 
태그: 프로그래밍
출처: "마이크로서비스 아키텍처: MSA"
강사: 코드프레소
aliases:
---
### 날짜  2024-02-12 20:28

### 태그: #프로그래밍 

>[!메모]
>

### 원문
---
# 서비스 디스커버리 패턴
- MSA와 같은 분산 환경에서는 Network를 통한 **API 호출**이 필수적이다.
- 다른 서비스를 호출하기 위해서 위치 정보를 알아야 한다.
	- IP, Port, URL
- 하나의 서버가 여러 개의 인스턴스를 갖게 된다면 nginx 서버 같은 프록시 서버를 두는 것이 좋다.
- 변경되는 상황이 잦을 수 있다.
	- Scale out
	- fail over
	- upgrade
	- 서비스 자체의 추가가 되는 상황
### MSA에서 서비스 디스커버리의 중요성
- 새로운 인스턴스들이 언제든 추가되거나 제거된다.
- 물리적 위치를 정적으로 저장하고 있는 방식은 비효율적이다.
	- 인스턴스의 물리적 위치가 고정되어 있지 않다.
	- 인스턴스의 개수도 일정하지 않다.
- 인스턴스들의 추가/삭제가 클라이언트에 영향을 미치지 않게 된다.
## 서비스 디스커버리 종류
- Client-Side Service Discovery
- Server-Side Service Discovery
### Client-Side Service Discovery
- 클라이언트가 원격 자원의 주소 정보를 조회하고 유지한다.
- 서비스 resgistry로 부터 서비스들의 주소 정보를 조회한다.
- 클라이언트가 원격 자원들의 주소 정보 기반으로 로드밸런싱을 수행한다.
- 클라이언트가 load balancing을 진행한다.
	- 소스코드가 클라이언트에게 있어야 함.
![[Excalidraw/ft_transcendence.excalidraw.md#^group=c3TKqL2w2RxedfeJsjsac|700]]
#### 장점
- 서비스 레지스트리를 제외하고는 다른 컴포넌트가 필요하지 않다.
- 로드 밸런서 등을 별도로 관리하지 않아도 된다.
- 클라이언트 코드로 로드 밸런싱을 하기 때문에 다양한 로직을 추가할 수 있다.
#### 단점
- 클라이언트 언어, framework 별로 로드 밸런싱 로직을 개발해야 한다.
- load balancing 및 장애 내성에 대한 책임이 모두 Client에 존재한다.
- 조직 통합적 관리가 어렵다.
### Server-Side Service Discovery
- 클라이언트는 로드밸런서를 통해 원격 서비스를 호출한다.
# 필요없고 **어렵다.** 나중에 할래


---
### 생각(파생된 질문/생각)

### 출처
- https://www.udemy.com/course/codepressomsa/

### 연결 문서 (연결 이유)
