---
날짜: '"2023-12-04"'
넘버: 
태그: 프로그래밍/도커
출처: https://docs.docker.com/storage/volumes/
aliases:
---
### 날짜  2023-12-04 16:16

### 태그: #42subject 

>[!메모]
>

### 원문
---
# Volumes
볼륨은 도커 컨테이너에서 생성하고 사용하는 데이터를 지속하기 위한 매커니즘이다.
- 바인드 마운트
	- 호스트 머신의 디렉토리 구조와 OS에 따라 달라짐.
- 볼륨
	- Docker가 관리함.
### 볼륨 사용의 장점
- 바인드 마운트보다 백업 및 마이그레이션이 용이
- Docker CLI, Docker API를 사용하여 관리 가능
- Linux, Window 환경에서 모두 사용 가능
- 볼륨은 여러 컨테이너 간에 안전하게 공유가 가능하다.
- 원격 호스트 또는 클라우드 공급자에 볼륨을 저장하고, 볼륨을 암호화하거나 다른 기능을 추가할 수 있다.
- **새 볼륨은 컨테이너에 의해 콘텐츠가 미리 채워질 수 있음.** 
	- [[(Inception) Error log#^f47ac7|관련된 문제]]
- Mac, Window 호스트의 바인드 마운트보다 성능이 뛰어남.
![[Pasted image 20231204165720.png]]
- 볼륨은 컨테이너의 크기를 늘리지 않으며, 볼륨의 컨텐츠가 특정 컨테이너의 수명 주기 외부에 있다.
- 컨테이너가 임시 데이터를 생성하는 경우 컨테이너 성능을 높이기 위해 tmpfs mount를 사용할 수 있다.
## Choose the -v or --mount flag
- `-v` or `--volume`
	- 모든 옵션을 하나의 필드에 결합
- `--mount`.
	- 더 정석적
	- 옵션을 분리함
	- 볼륨 드라이버 옵션을 지정해야 하는 경우 `-v`를 쓸 수 없다.
### Differences between -v and --mount behavior
- 바인드 마운트와 달리 볼륨에 대한 옵션은 `--mount`, `-v`에 모두 사용 가능하다.
- 서비스와 함께 사용되는 볼륨은 `--mount`만 지원한다.
	- **무슨 소리?**
## Use a volume with Docker Compose
- `docker compose up`을 통해서 도커 컴포즈를 실행하면 볼륨이 생성된다. 이후 명령을 실행할 때 이미 생성되어있는 볼륨을 사용한다.
- 서비스를 시작하고 볼륨을 정의하면 각 서비스 컨테이너는 자체 `local` 볼륨을 사용한다.
	- 이 경우 어떤 컨테이너도 이 데이터를 공유할 수 없다.
	- 다른 볼륨 드라이버는 지원할 수도 있음.
## Share data between machines
![[Pasted image 20231204174716.png]]
- 볼륨 드라이버를 사용하여 애플리케이션 로직에서 기본 스토리지 시스템을 추상화할 수 있음.

---
### 생각(파생된 질문/생각)

### 출처

### 연결 문서 (연결 이유)
- [[볼륨 드라이버]]
- 